import { formatMoney } from '..';

const makeSut = () => ({
  sut: formatMoney,
});

const io: ReadonlyArray<[number, string]> = [
  [1_000_000_000_000_000, '1,000T'],
  [1_000_001_000_000_000, '1,000T'],
  [1_000_010_000_000_000, '1,000.01T'],
  [1_000_100_000_000_000, '1,000.1T'],
  [100_000_000_000_000, '100T'],
  [1_000_000_000_000, '1T'],
  [100_000_000_000, '100B'],
  [1_000_000_000, '1B'],
  [2_000_000_000, '2B'],
  [200_000_000, '200M'],
  [200_001_000, '200M'],
  [200_010_000, '200.01M'],
  [200_010, '200,010.00'],
  [200_000, '200,000.00'],
  [200_000.12, '200,000.12'],
  [1.01, '1.01'],
  [1.11, '1.11'],
  [0.01, '0.01'],
  [0.00001, '0.00001'],
  [0.00000001, '0.00000001'],
  [0.00000000001, '0.00000000001'],
  [0.00000000000001, '0.00000000000001'],
  [0.0000000000000001, '0.0000000000000001'],
  [0.000000000000000000001, '0.00'],
  [0.1, '0.1'],
  [0.12, '0.12'],
  [0.123, '0.123'],
  [0.1234, '0.1234'],
  [0.12345, '0.12345'],
  [0.123456, '0.123456'],
  [0.1234567, '0.1234567'],
  [0.12345678, '0.12345678'],
  [0.123456789, '0.123456789'],
  [0.12345678901, '0.12345678901'],
  [0.1234567890136435, '0.1234567890136435'],
  [0.1234567890136435456, '0.12345678901364354'],
];

describe(formatMoney.name, () => {
  it.each(io)('should format %f to %s', (input, output) => {
    const { sut } = makeSut();
    expect(sut(input)).toBe(output);
  });
});
